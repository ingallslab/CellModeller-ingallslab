# CellModeller TODOs

Multicellular agent-based modelling framework

Please move finished items to unreleased section of `CHANGELOG.md`

### Planned

 - [ ] Add new `CellModeller.Modules.ModuleProtocols`
   - [ ] Support for custom cell events and flexible sim loop updates
 - [ ] Change `CellModeller.Simulator` implementation
   - [ ] Integrate with `ModuleProtocol` and `UserModule` classes
   - [ ] Check for custom cell events in update loop
   - [ ] Forward access layer for renderers to cell data

### Working On

 - [ ] Add tasks to `TODO.md`
   - [x] Housekeeping guidelines
   - [x] Render pipeline overhaul
   - [x] New flexible module framework
   - [ ] Filamenting support + module examples
   - [ ] Starting points for full app migration
 - [ ] Remove save to pickles features while rewriting application
 - [ ] Add `CellArrays` class to manage cell data efficiently
   - [ ] Define custom cell attributes using `numpy.dtype` declaration
   - [x] Preallocate memory for known cell attributes
   - [x] Manage centralized OpenCL shared memory between modules
     - [x] Require a context manager to synchronize
   - [x] Conform to `collection.abc.Sequence` specification to access cells
   - [ ] Provide `memoryview`s to contiguous blocks of cell data for renderers
 - [x] Add OpenGL retained mode classes and shaders
   - [x] Base wrapper class that handles shader compiling and memory management
     - [ ] Default class for GUI background grid
     - [ ] Default class for rod-shaped cells
   - [x] Allow renderers to define cell attributes for intended cell types

### Done

 - [x] Add new guidelines to `contributing.md`
   - [x] Doxygen doctrings
   - [x] Black code formatter
   - [x] Conventional commits format
   - [x] Semantic versioning usage
   - [x] Up-to-date TODOs
   - [x] Maintaining the changelog
 - [x] Migrate from `setup.py` to `pyproject.toml`
   - [x] pre-commit hook for automatic code formatting with black
   - [x] Raise Python requirement to 3.10+ for improved `typing` support
 - [x] Update DoxygenConfig to version 1.10.0
   - [x] Include documentation from python docstrings
   - [x] Hide undocumented members from output
 - [x] Refactor `Scripts/CellModellerGUI.py` to use `if __name__ == "__main__":`
 - [x] Remove `PyGLWidget` class
 - [x] Change `CellModeller.GUI.PyGLCMViewer` implementation
   - [x] Use retained mode instead of immediate mode for OpenGL rendering
   - [x] Improve performance by separating UI and sim in different threads
   - [x] Support for keyboard controls
 - [x] Change `CellModeller.CellState` implementation
   - [x] Address underlying `numpy.ndarray` fields with object.attribute syntax
   - [x] Warn users about using undefined cell attributes
 - [x] Remove immediate mode renderers in `CellModeller/GUI/Renderers.py`

---

### Guideline for changelog verbs: [^1]

Verb    | Use for...
--------|-----------
Add     | New features, files, or functionality
Remove  | Deprecated or obsolete features/code/files
Change  | Behavior changes or refactors that alter how something works
Update  | Version bumps, metadata changes, or refreshed content (e.g. docs, deps)
Fix     | Bug fixes
Migrate | Moving from one system to another (e.g. `setup.py` -> `pyproject.toml`)
Improve | Enhancements to performance, UX, maintainability, etc.
Refactor | Internal restructuring without changing external behavior

[^1]: This table was generated by ChatGPT using the GPT-4-turbo model, April
2025 release.
